<!doctype thml>
<html>
<head>
    <meta charset="UTF-8">
    <title>table 동적 생성(실습)</title>
    <!-- jQuery import 방식 1-->
    <!--<script src="js/jquery-3.7.1.min.js"></script> -->
    <!-- jQuery import 방식 2 CDN 방식-->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script>
    /*
    행과 열을 입력 받아 테이블 생성하기
    val()메소드 : value 값 읽기
    1. <테이블 생성> 버튼에 이벤트연결
    2. input 태그 값을 읽어오기(행, 열)
    3. 행, 열 값에 맞추어 table 태그 작성
    4. 원하는 위치(#myDiv)에 table태그 추가(html()사용)
    */
    //$(document).ready(function(){});
    //$().ready(function(){});
    //$(function(){});
    $(document).ready(function(){
        //1. <테이블생성>버튼에 이벤트 연결
        $("#btn").on("click", function(){
            //2. input 태그 값을 읽어오기(행, 열)
            
            let rowCnt = $("#row").val(); //jQuery
            //val(4) 하면 값 지정 됨, prop() 도 가능
            //rowCnt = document.getElementById("row").value; //JavaScript 방식
            //rowCnt = document.querySelector("#row").value; //JavaScript 방식
            console.log("rowCnt : " + rowCnt);
            
            let colCnt = $("#col").val();
            console.log("colCnt : " + colCnt);
            
            //3. 행, 열 값에 맞추어 table 태그 작성
            let htmlTag = "";
            htmlTag += "<table>";
            htmlTag += "<thead>";
            htmlTag += "<tr>";
            for(let col = 1; col <= colCnt; col++){
                htmlTag += "<th>항목" + col + "</th>";
            }
            htmlTag += "</tr>";
            htmlTag += "</thead>";
            htmlTag += "<tbody>";
            
            for(let row = 1; row <= rowCnt; row++){
                htmlTag += "<tr>";
                for(let col = 1; col <= colCnt; col++){
                    htmlTag += "<td>데이터" + row  + "," + col + "</td>";
                }
                htmlTag += "</tr>";
            }
            
            htmlTag += "</tbody>";
            htmlTag += "</table>";
            // 4. 원하는 위치(#myDiv)에 table태그 추가(html()사용)
            document.getElementById("myDiv").innerHTML = htmlTag; //JavaScript 방식
            $("#myDiv").prop("innerHTML", htmlTag);
            //$("#myDiv").html(htmlTag);
        });
    });
    
    /*
    $(function(){
        $("button").click(function(){
            console.log("click");
            
            let hang = $("#row").val();
            let yul = $("#col").val();
            console.log(hang);
            console.log(yul);
            
            let htmlTag = "";
            htmlTag += "<table>";
            htmlTag += "<thead><tr>";
            
            for(let i = 0; i < yul; i++){
                
                htmlTag += "<th>항목" + (i+1) +"</th>";
            }
            htmlTag += "</tr></thead>"
            
            htmlTag += "<tbody>";
            for(let i = 0; i < hang; i++){
                htmlTag += "<tr>";
                for(let e = 0; e < yul; e++){
                htmlTag += "<td>데이터" + (i+1)+ "," +(e+1) +"</td>";
                }
                htmlTag += "</tr>";
            }
            htmlTag += "</tbody>"
            
            htmlTag += "</table>"
            
            $("#myDiv").html(htmlTag);
        });
    });
    */
</script>
<style>
    table, th, td { border: 1px solid black; }
    #myDiv { background-color: yellow; }
</style>
</head>
<body>
    <h2>테이블 동적 생성</h2>
    <input type="text" id="row" value="2">행 &nbsp;
    <input type="text" id="col" value="3">열 &nbsp;
    <button id="btn">테이블 생성</button>
    <hr>
    <div id="myDiv">
        동적으로 테이블 생성할 영역
    </div>
    <hr><hr>
    <table>
        <thead>
            <tr>
                <th>항목1</th>
                <th>항목2</th>
                <th>항목3</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>데이터1,1</td>
                <td>데이터1,2</td>
                <td>데이터1,3</td>
            </tr>
            <tr>
                <td>데이터2,1</td>
                <td>데이터2,2</td>
                <td>데이터2,3</td>
            </tr>
        </tbody>
    </table>
</body>
</html>